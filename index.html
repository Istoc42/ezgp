<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/ab7f1de69b.js" crossorigin="anonymous"></script>
    <title>EZgp | D&D currency converter</title>
    <style>
        body {
            margin-top: 2rem;
            background-image: url(https://images.pexels.com/photos/3790639/pexels-photo-3790639.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260);
            color: #fff;
        }

       

        #return {
    
            
        }

        input:focus{
            background-color: #b87333;
        }

        .copper{
            background-color: #b87333;
        }

        .silver{
            background-color: #c0c0c0;
        }

        .electrum{
            background-color: #e7c697;
        }

        .gold{
            background-color: #d4af37;
        }

        .platinum{
            background-color: #e5e4e2;
        }

        .total {
            background-color: #d4af37;
            font-size: 2rem;
        }

    </style>
</head>
<body>
    
    <div class="container">
        <div class="row">
            <div class="col-md-5 offset-3">
                <h1 class="display-4 text-center mb-4 ">EZgp</h1>
                <hr>
                <h4 class="display-6 text-center mb-4 ">How much gp do I have?</h4>
                <form>
                    <div class="form-group">
                        
                        <input class="copper mb-3 form-control form-control-lg" type="number" name="cp" id="cpInput" placeholder="Enter cp..."/>
                    
                        <input class="silver mb-3 form-control form-control-lg" type="number" name="sp" id="spInput" placeholder="Enter sp..."/>
                    
                        <input class="electrum mb-3 form-control form-control-lg" type="number" name="ep" id="epInput" placeholder="Enter ep..."/>
                    
                        <input class="gold mb-3 form-control form-control-lg" type="number" name="gp" id="gpInput" placeholder="Enter gp..."/>
                    
                        <input class="platinum mb-3 form-control form-control-lg" type="number" name="pp" id="ppInput" placeholder="Enter pp..."/>

                    </div>
                </form>
                
                <div class="mt-5" id="output">
                    <div class="card">
                        <div class="total card-body" id="total">
                            <h4>Total gp: </h4>
                            <div id="gpOutput">

                            </div>
                
                        </div>
                    </div>

                    <div class="mt-3 align-center">
                        <a href="blogofmanythings.com"><button class="btn btn-outline-light" type="button" id="return"><i class="fas fa-angle-double-left"></i>    Return to the Blog of Many Things</button></a>
                    </div>

                    <div style="height: 200px;">
                        
                    </div>

                </div>
            </div>
        </div>
        
    </div>
    

    <script>
        // Get values of each input and assign to global variables
        let cpRaw = 0;
        let spRaw = 0;
        let epRaw = 0;
        let gpRaw = 0;
        let ppRaw = 0;

        let cpConverted = 0;
        let spConverted = 0;
        let epConverted = 0;
        let goldConverted = 0;
        let ppConverted = 0;

        let gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
        

        // Get value of cp
        document.getElementById('cpInput').addEventListener('input', function(e){
            cpRaw = e.target.value;
            console.log("Entered: " + cpRaw + "cp");
            cpConverted = cpRaw/100;
            console.log(cpRaw + "cp is " + cpConverted + "gp");
            gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
            let gpRound = Math.floor((gpOutput + Number.EPSILON) * 100) / 100;
            console.log("Rounded down to " + gpRound)
            document.getElementById('gpOutput').innerHTML = gpRound;
            console.log("Total: " + document.getElementById('gpOutput').innerHTML + "gp");
        }); 

        // Get value of sp
        document.getElementById('spInput').addEventListener('input', function(e){
            spRaw = e.target.value;
            console.log("Entered: " + spRaw + "sp");
            spConverted = spRaw/10;
            console.log(spRaw + "sp is " + spConverted + "gp");
            gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
            let gpRound = Math.floor((gpOutput + Number.EPSILON) * 100) / 100;
            document.getElementById('gpOutput').innerHTML = gpOutput;
            console.log("Total: " + document.getElementById('gpOutput').innerHTML + "gp");
        }); 

        // Get value of ep
        document.getElementById('epInput').addEventListener('input', function(e){
            epRaw = e.target.value;
            console.log("Entered: " + epRaw + "ep");
            epConverted = epRaw/5;
            console.log(epRaw + "ep is " + epConverted + "gp");
            gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
            let gpRound = Math.floor((gpOutput + Number.EPSILON) * 100) / 100;
            document.getElementById('gpOutput').innerHTML = gpOutput;
            console.log("Total: " + document.getElementById('gpOutput').innerHTML + "gp");
        }); 

        // Get value of gp
        document.getElementById('gpInput').addEventListener('input', function(e){
            gpRaw = e.target.value;
            console.log("Entered: " + gpRaw + "ep");
            goldConverted = gpRaw/1;
            console.log(gpRaw + "gp is " + goldConverted + "gp");
            gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
            let gpRound = Math.floor((gpOutput + Number.EPSILON) * 100) / 100;
            document.getElementById('gpOutput').innerHTML = gpOutput;
            console.log("Total: " + document.getElementById('gpOutput').innerHTML + "gp");
        }); 

        // Get value of pp
        document.getElementById('ppInput').addEventListener('input', function(e){
            ppRaw = e.target.value;
            console.log("Entered: " + ppRaw + "pp");
            ppConverted = ppRaw*10;
            console.log(ppRaw + "pp is " + ppConverted + "gp");
            gpOutput = cpConverted + spConverted + epConverted + goldConverted + ppConverted;
            let gpRound = Math.floor((gpOutput + Number.EPSILON) * 100) / 100;
            document.getElementById('gpOutput').innerHTML = gpOutput;
            console.log("Total: " + document.getElementById('gpOutput').innerHTML + "gp");
        }); 
        
        // Add up converted values
        document.getElementById('gpOutput').innerHTML = gpOutput;
        console.log("Total: " + gpOutput);
        // Output gp total in output div

    </script>
</body>
</html>
